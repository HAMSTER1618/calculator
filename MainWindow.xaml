<Window x:Class="calculator.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:calculator"
        mc:Ignorable="d"
        Title="Calculator" Height="550" Width="360"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanMinimize"
        Icon="/Image/calcicon.png">
    <Window.Resources>
        <Style TargetType="Button" x:Key="Buttons">
            <Setter Property="FontSize" Value="22" />
            <Setter Property="FontWeight" Value="Bold" />
        </Style>
    </Window.Resources>

    <Grid Margin="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="17*" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="123*" />
        </Grid.RowDefinitions>
        <!-- Top line: memory flag (left) + expression (right) -->
        <Grid Grid.Row="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <TextBlock x:Name="MemoryFlag"
                       Grid.Column="0" Margin="0,2,8,0"
                       Foreground="#777" FontSize="14" VerticalAlignment="Center" />
            <TextBlock x:Name="Expression"
                       Grid.Column="1" Text=""
                       FontSize="14" Foreground="#777"
                       TextAlignment="Right" VerticalAlignment="Center" Height="42" />
        </Grid>

        <!-- Big display (TextBox to auto-scroll to the end) -->
        <Border Grid.Row="1" BorderBrush="#DDD"
                BorderThickness="0,0,0,1"
                Padding="0,6,0,6">
            <Viewbox Stretch="Uniform" StretchDirection="DownOnly"
                     HorizontalAlignment="Right">
                <TextBlock x:Name="DisplayText"
               Text="0"
               FontWeight="Bold"
               TextAlignment="Right"
               Margin="0"
               Padding="0"
                FontSize="40" />
            </Viewbox>
        </Border>
        <Separator Grid.Row="2" Margin="5,5,5,5" />

        <UniformGrid Grid.Row="3" Rows="1" Columns="4" Margin="0,0,0,9">
            <Button Content="MC" Tag="MC" Click="OnButton" Style="{StaticResource Buttons}" />
            <Button Content="MR" Tag="MR" Click="OnButton" Style="{StaticResource Buttons}" />
            <Button Content="M+" Tag="M+" Click="OnButton" Style="{StaticResource Buttons}" />
            <Button Content="M-" Tag="M-" Click="OnButton" Style="{StaticResource Buttons}" />
        </UniformGrid>
        <Separator Grid.Row="4" Margin="5,5,5,5" />
        <UniformGrid Grid.Row="5" Rows="6" Columns="4" Margin="0,4,0,0">
            <Button Content="%"   Tag="%"   Click="OnButton" Style="{StaticResource Buttons}" />
            <Button Content="CE"  Tag="CE"  Click="OnButton" Style="{StaticResource Buttons}" />
            <Button Content="C"   Tag="C"   Click="OnButton" Style="{StaticResource Buttons}" />
            <Button Content="⌫"   Tag="BS"  Click="OnButton" Style="{StaticResource Buttons}" />
            <Button Content="1/x" Tag="1/x" Click="OnButton" Style="{StaticResource Buttons}" />
            <Button Content="x²"  Tag="x2"  Click="OnButton" Style="{StaticResource Buttons}" />
            <Button Content="√"   Tag="sqrt" Click="OnButton" Style="{StaticResource Buttons}" />
            <Button Content="÷"   Tag="/"   Click="OnButton" Style="{StaticResource Buttons}" />

            <Button Content="7"   Tag="7"   Click="OnButton" Style="{StaticResource Buttons}" />
            <Button Content="8"   Tag="8"   Click="OnButton" Style="{StaticResource Buttons}" />
            <Button Content="9"   Tag="9"   Click="OnButton" Style="{StaticResource Buttons}" />
            <Button Content="×"   Tag="*"   Click="OnButton" Style="{StaticResource Buttons}" />

            <Button Content="4"   Tag="4"   Click="OnButton" Style="{StaticResource Buttons}" />
            <Button Content="5"   Tag="5"   Click="OnButton" Style="{StaticResource Buttons}" />
            <Button Content="6"   Tag="6"   Click="OnButton" Style="{StaticResource Buttons}" />
            <Button Content="−"   Tag="-"   Click="OnButton" Style="{StaticResource Buttons}" />

            <Button Content="1"   Tag="1"   Click="OnButton" Style="{StaticResource Buttons}" />
            <Button Content="2"   Tag="2"   Click="OnButton" Style="{StaticResource Buttons}" />
            <Button Content="3"   Tag="3"   Click="OnButton" Style="{StaticResource Buttons}" />
            <Button Content="+"   Tag="+"   Click="OnButton" Style="{StaticResource Buttons}" />

            <Button Content="±"   Tag="+/-" Click="OnButton" Style="{StaticResource Buttons}" />
            <Button Content="0"   Tag="0"   Click="OnButton" Style="{StaticResource Buttons}" />
            <Button Content="."   Tag="."   Click="OnButton" Style="{StaticResource Buttons}" />
            <Button Content="="   Tag="="   Click="OnButton" Style="{StaticResource Buttons}" />
        </UniformGrid>
    </Grid>
</Window>